{{ define "board_right" }}
<div class="board_right">
    {{ if .Op.Title }}
        <div class="latest">Latest post:</div><a href="/board/{{ .Op.BoardId }}/{{ .Op.Id }}">{{ .Op.Title }}</a> by 
        {{ if .Latest }}
            {{ .Latest.Author.Username}}
        {{ else }}
            {{ .Op.Title }}
        {{ end }}
    {{ else }}
        Nothing yet!
    {{ end }}
</div>
{{ end }}

{{ define "content" }}
<h1>boards</h1>
<div class="boards">
    {{ range .boards }}
    <div class="board">
        {{ template "board_right" .GetLatestPost }}
        <a href="/board/{{.Id}}" class="board_title">{{.Title}}</a>
        <div class="board_description">{{.Description}}</div>
    </div>
    {{ end }}
</div>
{{ end }}
